<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Daily Life</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #93D15A; /* lime green background */
    padding: 20px;
    display:flex;
    flex-wrap:wrap;
    gap:20px;
  }
  h1{
    width:100%;
    text-align:center;
    color:#422B01; /* dark brown heading */
    font-size:36px;
    margin-bottom:20px;
  }
  .box {
    background-color: #6E4800; /* inside of box */
    border: 4px solid #422B01; /* dark brown outline */
    padding:20px;
    border-radius:18px;
    box-shadow:0 0 12px rgba(0,0,0,0.2);
    flex:1;
    min-width:300px;
    color:#fff;
  }
  h2,h3{color:#fff;}
  input,textarea,button{width:100%;padding:10px;margin:8px 0;border-radius:8px;}
  textarea{height:150px; resize:none;}
  button{
    background:#3498db;color:white;border:none;border-radius:10px;font-size:16px;cursor:pointer;
  }
  button:hover{background:#2980b9;}
  ul{padding:0;}
  li{list-style:none;background:rgba(255,255,255,0.3);margin:6px 0;padding:10px;border-radius:10px;color:#fff;}
  #gameArea{
    width:300px;height:300px;background:rgba(255,255,255,0.3);position:relative;border-radius:15px;margin-bottom:10px;overflow:hidden;
  }
  #motivationBox{
    background:rgba(255,255,255,0.3);
    padding:15px;border-radius:12px;margin-left:20px; flex:1; min-width:250px;
  }
</style>
</head>
<body>
<h1>My Daily Life</h1>

<!-- LEFT SIDE: Timetable -->
<div class="box">
  <h2>Manual Timetable</h2>
  <input type="text" id="manualActivity" placeholder="Activity name (Study, Play)">
  <input type="time" id="manualTime">
  <button id="addManualBtn">Add Activity</button>
  <h3>Your Manual Timetable</h3>
  <ul id="manualTimetable"></ul>
  <button id="activateManualBtn">Activate Manual Timetable Notifications</button>

  <hr>

  <h2>AI Timetable Generator</h2>
  <textarea id="userInfo" placeholder="Example: I am 14. School 8-2. Gaming 2 hours. Sleep 10pm."></textarea>
  <button id="activateAI">Activate AI Timetable</button>
  <h3>AI Timetable</h3>
  <ul id="aiTimetable"></ul>
</div>

<!-- RIGHT SIDE: Notepad + Games + Motivation -->
<div class="box" style="display:flex; flex-direction:column;">
  <h2>Daily Notepad</h2>
  <input type="text" id="noteHeading" placeholder="Enter heading for today's note">
  <textarea id="noteContent" placeholder="Write your notes here..."></textarea>
  <button id="saveNote">Save Note</button>

  <hr>

  <div style="display:flex; flex-wrap:wrap; gap:20px;">
    <!-- Game Area -->
    <div>
      <h2 id="gameTitle">Game: Catch the Ball</h2>
      <div id="gameArea"></div>
      <p>Score: <span id="score">0</span></p>
    </div>

    <!-- Motivation Box -->
    <div id="motivationBox">
      <h2>Daily Motivation</h2>
      <p id="quoteText">"The only way to do great work is to love what you do."</p>
      <p id="quoteAuthor">- Steve Jobs</p>
      <hr>
      <p>By: Qazi</p>
      <p style="margin-top:10px; font-size:14px;">
        Welcome to your personal Smart Day Planner! This website helps you organize your daily activities with AI-generated and manual timetables, keeps you productive with timely notifications, and lets you jot down your daily notes. Plus, the fun mini-games and daily motivation quotes keep your mind happy and inspired throughout the day. Stay organized, stay motivated, and make every day productive!
      </p>
    </div>
  </div>
</div>

<script>
  // Notifications helper
  function notifyUser(title,message){
    if(Notification.permission==="granted"){ 
      new Notification(title,{body:message}); 
    } else { 
      alert(title+"\n"+message); 
    }
  }

  // --- MANUAL TIMETABLE ---
  let manualActivities=[]; 
  let notifiedManual={};

  function saveManual(){
    localStorage.setItem("manualActivities", JSON.stringify(manualActivities));
  }
  function loadManual(){
    let data = localStorage.getItem("manualActivities");
    if(data){
      manualActivities = JSON.parse(data);
      displayManual();
    }
  }

  document.getElementById("addManualBtn").onclick=function(){
    const name=document.getElementById("manualActivity").value;
    const time=document.getElementById("manualTime").value;
    if(!name||!time){ alert("Enter both activity and time"); return; }
    manualActivities.push({name,time});
    manualActivities.sort((a,b)=>a.time.localeCompare(b.time));
    displayManual();
    saveManual();
    document.getElementById("manualActivity").value="";
    document.getElementById("manualTime").value="";
  }

  function displayManual(){ 
    const list=document.getElementById("manualTimetable"); 
    list.innerHTML="";
    manualActivities.forEach(a=>{ 
      const li=document.createElement("li"); 
      li.textContent=a.time+" - "+a.name; 
      list.appendChild(li); 
    });
  }

  document.getElementById("activateManualBtn").onclick=function(){
    if(!manualActivities.length){ alert("Add activities first!"); return; }
    if(Notification.permission!=="granted") Notification.requestPermission();
    manualActivities.forEach(a=>{ notifiedManual[a.time+a.name]=false; });
    alert("Manual timetable activated! Notifications ON.");
  }

  // --- AI TIMETABLE ---
  let aiActivities=[]; 
  let notifiedAI={};

  function saveAI(){
    localStorage.setItem("aiActivities", JSON.stringify(aiActivities));
  }
  function loadAI(){
    let data = localStorage.getItem("aiActivities");
    if(data){
      aiActivities = JSON.parse(data);
      displayAI();
    }
  }

  document.getElementById("activateAI").onclick=function(){
    if(Notification.permission!=="granted") Notification.requestPermission();
    const text=document.getElementById("userInfo").value.toLowerCase();
    let schoolMatch=text.match(/school.*?(\d{1,2})(am|pm)?\s*[-to]+\s*(\d{1,2})(am|pm)?/);
    let schoolStart="08:00", schoolEnd="14:00";
    if(schoolMatch){ let sh=parseInt(schoolMatch[1]), eh=parseInt(schoolMatch[3]);
      if(schoolMatch[2]==="pm" && sh<12) sh+=12;
      if(schoolMatch[4]==="pm" && eh<12) eh+=12;
      schoolStart=String(sh).padStart(2,'0')+":00"; schoolEnd=String(eh).padStart(2,'0')+":00"; }
    let gameMatch=text.match(/gaming.*?(\d{1,2})\s*hours?/);
    let gamingStart="17:00", gamingEnd="19:00";
    if(gameMatch){ let gHours=parseInt(gameMatch[1]); let endH=17+gHours; if(endH>23) endH=23; gamingEnd=String(endH).padStart(2,'0')+":00"; }
    let sleepMatch=text.match(/sleep.*?(\d{1,2})(am|pm)?/); let sleepTime="22:30";
    if(sleepMatch){ let sH=parseInt(sleepMatch[1]); if(sleepMatch[2]==="pm" && sH<12) sH+=12; sleepTime=String(sH).padStart(2,'0')+":00"; }
    aiActivities=[ {time:"07:00", name:"Wake Up & Breakfast"},
      {time:schoolStart, name:"School"},
      {time:schoolEnd, name:"Lunch & Rest"},
      {time:"16:00", name:"Homework / Study"},
      {time:gamingStart, name:"Gaming"},
      {time:gamingEnd, name:"Exercise / Outdoor Play"},
      {time:"20:00", name:"Family / Dinner"},
      {time:sleepTime, name:"Sleep"} ];
    aiActivities.forEach(a=>{ notifiedAI[a.time+a.name]=false; });
    displayAI(); saveAI();
    alert("AI timetable activated! Notifications ON.");
  }

  function displayAI(){ 
    const list=document.getElementById("aiTimetable"); 
    list.innerHTML="";
    aiActivities.forEach(a=>{ 
      const li=document.createElement("li"); 
      li.textContent=a.time+" - "+a.name; 
      list.appendChild(li); 
    });
  }

  // --- NOTEPAD ---
  function saveNotes(){
    let notes = {};
    const heading=document.getElementById("noteHeading").value.trim();
    const content=document.getElementById("noteContent").value;
    if(!heading){ alert("Enter a heading for your note!"); return; }
    notes[heading] = content;
    localStorage.setItem("notes", JSON.stringify({...loadNotes(), ...notes}));
    alert("Note saved!");
    document.getElementById("noteHeading").value="";
    document.getElementById("noteContent").value="";
  }

  function loadNotes(){
    let notes = localStorage.getItem("notes");
    return notes ? JSON.parse(notes) : {};
  }

  document.getElementById("saveNote").onclick=saveNotes;

  // --- Load everything on page load ---
  window.onload = function(){
    loadManual();
    loadAI();
    let notes = loadNotes();
    if(Object.keys(notes).length>0){
      const firstNote = Object.keys(notes)[0];
      document.getElementById("noteHeading").value = firstNote;
      document.getElementById("noteContent").value = notes[firstNote];
    }
  }

  // --- Notifications polling ---
  setInterval(()=>{
    const now=new Date(); 
    const currentTime=now.toTimeString().slice(0,5);
    manualActivities.forEach((a,i)=>{ const key=a.time+a.name; if(!notifiedManual[key] && a.time===currentTime){ notifiedManual[key]=true;
      let next=manualActivities[i+1]?manualActivities[i+1].name:"No more activities today"; notifyUser("Manual Timetable","Now: "+a.name+"\nNext: "+next); }});
    aiActivities.forEach((a,i)=>{ const key=a.time+a.name; if(!notifiedAI[key] && a.time===currentTime){ notifiedAI[key]=true;
      let next=aiActivities[i+1]?aiActivities[i+1].name:"No more activities today"; notifyUser("AI Timetable","Now: "+a.name+"\nNext: "+next); }});
  },10000);

  // --- GAME CYCLE: catch the ball as placeholder ---
  const gameArea=document.getElementById("gameArea");
  const gameTitle=document.getElementById("gameTitle");
  const scoreDisplay=document.getElementById("score");
  let score=0;
  function startGame(){
    gameArea.innerHTML='<div style="width:40px;height:40px;background:red;border-radius:50%;position:absolute;top:50px;left:50px;cursor:pointer;" id="ball"></div>';
    document.getElementById("ball").onclick=function(){ score++; scoreDisplay.textContent=score; if(score>=10){ alert("You completed the game!"); score=0; scoreDisplay.textContent=score; } }
  }
  startGame();

</script>
</body>
</html>
